from nltk import word_tokenize, pos_tag
from nltk.corpus import wordnet as wn

def penn_to_wn(tag):
    """ Convert between a Penn Treebank tag to a simplified Wordnet tag """
    if tag.startswith('N'):
        return 'n'
    if tag.startswith('V'):
        return 'v'
    if tag.startswith('J'):
        return 'a'
    if tag.startswith('R'):
        return 'r'
    return None
 
def tagged_to_synset(word, tag):
    wn_tag = penn_to_wn(tag)
    if wn_tag is None:
        return None
    try:
        return wn.synsets(word, wn_tag)[0]
    except:
        return None
 
def sentence_similarity(sentence1,sentence2):
    """ compute the sentence similarity using Wordnet """
    # Tokenize and tag
    sentence1 = pos_tag(word_tokenize(sentence1))
    sentence2 = pos_tag(word_tokenize(sentence2))
    # Get the synsets for the tagged words
    synsets1 = [tagged_to_synset(*tagged_word) for tagged_word in sentence1]
    synsets2 = [tagged_to_synset(*tagged_word) for tagged_word in sentence2]
    # Filter out the Nones
    synsets1 = [ss for ss in synsets1 if ss]
    synsets2 = [ss for ss in synsets2 if ss]
    score, count = 0.0, 0
    # # For each word in the first sentence
    for synset in synsets1:
    #     # Get the similarity value of the most similar word in the other sentence
        best_score = max([synset.path_similarity(ss) for ss in synsets2])
        #print [synset.path_similarity(ss) for ss in synsets2]
        # Check that the similarity could have been computed
        if best_score is not None:
            score += best_score
            count += 1
    # Average the values
    score /= count
    return score

d3 = "Dear @ORGANIZATION1, The computer blinked to life and an image of a blonde haired girl filled the screen. It was easy to find out how life was in @LOCATION2, thanks to the actual @CAPS1 girl explaining it. Going to the library wouldn't have filled one with this priceless information and human interection. Computers are a nessessity of life if soceity wishes to grow and expand. They should be supported because they teach hand eye coordination, give people the ability to learn about faraway places, and allow people to talk to others online. Firstly, computers help teach hand eye coordination. Hand-eye coordination is a useful ability that is usod to excel in sports. In a recent survey, @PERCENT1 of kids felt their hand eye coordination improves after computer use. Even a simple thing like tying can build up this skill. Famous neurologist @CAPS2 @PERSON1 stated in an article last week that, \"@CAPS3 and computer strength the @CAPS2. When on the computer, you automatically process what the eyes see into a command for your hands.\" @CAPS4 hand eye coordination can improve people in sports such as baseball and basketball. If someone wan't to become better in these sports, all they'd need to do was turn on the computer. Once people become better at sports, they're more likely to play them and become more healthy. In reality, computers can help with exercising instead of decreasing it. Additionaly, computers allow people to access information about faraway places and people. If someone wanted to reasearch @LOCATION1, all they'd need to do was type in a search would be presented to them in it would link forever to search through countless things. Also, having the ability to learn about cultures can make peole peole and their cultures, they understand others something. Increase tolerance people are. Computers are a resourceful tool that they can help people in every different aspect of life. Lastly, computer and in technology can allow people to chat. Computer chat and video chat can help the all different nations. Bring on good terms places other than can help us understand story comes out about something that happend in @LOCATION3, people can just go on their computer and ask an actual @LOCATION3 citizen their take on the matter. Also, video chat and online conversation can cut down on expensive phone bills. No one wants to pay more than they have to in this economy. Another good point is that you can acess family members you scaresly visit. It can help you connect within your own family more. Oviously, computers are a useful aid in todays era. their advancements push the world foreward to a better place. Computers can help people because they help teach handeye coordination, give people the bility to learn about faraway places and people, and allow people to talk online with others. Think of a world with no computers or technologicall advancements. The world would be sectored and unified, contact between people scare, and information even. The internet is like thousands or librarys put together. Nobody would know much about other nations and news would travel slower. Is that the kind of palce you want people to live in?"
d4 = "Dear Local Newspaper, @CAPS1 I have found that many experts say that computers do not benifit our society. In some cases this is true but in most cases studdies show that computers can help people. While nothing beats talking in person computers can get really close such examples are webcams or e-mail. @PERCENT1 of students who get good grades refer to reliable websites for reasearch or to help find good books. Also online catalouges or advertisments help the economy of stores worldwide. @CAPS2 people were not allowed to use computers most of the modern would not exist. @PERSON1 said that the best form of modern communication is the computer because of the ability to write, talk, or write back for much cheaper! Almost every single event i go to is planed on a computer by communication such as e-mail \"@CAPS2 a student ever needs homework because lam out sick or needs help studying for a test then contact their teacher through the best form of communication for them always e-mail. Even the post office uses computers to get letters and boxes to people. The president of the post office, @PERSON2 said \"@CAPS3 would be imposible to get mail to our coustmers @CAPS2 @CAPS3 were not for computers telling us where a zip code is or how heavy a box is.\" @CAPS4 that tell people what is happening around the world would not exist @CAPS2 @CAPS3 were not for the moder communication abilities that computer provid us. Because information can be commucated so quick. so can reasearch. When the country of @LOCATION2 took a pole @PERCENT2 of people used computer for any type of reasearch, of those @PERCENT3 were students currently in school and @PERCENT4 of them have good grades. When the same survey was taken in the @LOCATION1 @PERCENT5 of people used computers fore reasons and @PERCENT2 were students who had good grade @CAPS2 @CAPS3 were not posible for me to access documents in the @CAPS5 @CAPS6 online I probably would not have gotten an A+ on my @CAPS7 assignment! Could you amagine @CAPS2 suddenly your Newspaper reporters couldn't use the internet to work on their reports? The articles would probably be @NUM1 after the events occur. Most buissness, including the Newspaper, use the internet to advertise, shop, or read. The association of @ORGANIZATION1 reported that in @PERCENT1 of @ORGANIZATION1 used a website and of them @PERCENT5 were in good positions. The president of @CAPS8 @NUM2 imports said that they use an online catalouge because @CAPS3 is cheaper, but they can also promote that @CAPS3 is to save trees, or for the castomer's convinence. Small @ORGANIZATION1 can make websites to promote them selves and explain their star to potential coustomers. @PERSON3, the owner of @ORGANIZATION2's said that the internet saved her resturant. @CAPS2 @CAPS3 wer not for the internet @NUM3 more people would be jobless in @LOCATION3. In conclusion computer help everyday people and without them most convinences would not exist. They help communicate around the world. Computers help people reaserch subjects for school reports, and they make the current economy get better everyday. In moderation computers are the most useful tool out there."
d5 = "My three detaileds for this news paper article is one state you opinion about the effects of computers. Seconde give detailed resons that will persuade of the local newspaper to agree with yor postition. This are my three ideas to the news paper article. To bigin my opinion about the computer effects are wast time. Many people wast time computers like fat people insted by insted by in the computer go and run or exercising. Insted be computer go out ur girlfriend or family or family or friends to have fun. So be incomputer to long is bad many kids wach bad stuff like for adults. Is good to be in computer but not to long. To start you shod agree with me becasue my detailed and my reason. My resons are many airs the bas stuff like porn. Many kids wach that it ruins ther mainly and the futur. They get addicted to that watching. So people that use computer for good stuff its old for mids for good ganes of good. This are my detailed and resons for yor with me. To bigin and going to organize my ideas and well and present them clearly. It good to be at the computer but not the long insted go out plat and exersus. abd yor can enjoy life insted be in computer. The bad things many kids wach bad stuff and cmputer has relly bad staff. The computer is use for evrye thing this days. This how organize my ideas. In conclusion this are my ideas for the news papaer. Ols I state my opinion on computer effects. I give detailed and resons that will persuade local news paper and to agree with me. Think I organize my ideas as much present them clearly. This are my ideas so could new papaer to se computers effects."
d6="Dear @ORGANIZATION1, I understand that the idea of advances in technology benefiting society is a very controversal topic. However, I support these advances in technology and I believe that computers have a positive effect on people. They allow friends and family who live far away from each other to communicate and stay in touch. Computers @CAPS7 allow easy access to the news and online textbooks which provides an enourmous amount of benifits to today's society. In the long run, doing more things by computer instead of on paper will save billions of trees! @CAPS7, computers teach us hand-eye coordination which is a tremenciously important skill. These advances in technology are extremely benefitial to our society and should be taken advantage of! \"@CAPS1, @CAPS1!\" @CAPS3 computer wails as I recieve a video call from @CAPS3 cousin, @PERSON4. The advantage in technology has provided many new ways for @CAPS3 family and I to communicate with each other. @CAPS3 cousins and I rarely see one another, but computers make it possible for us to stay connected. Four out of five teenagers would agree that without computers or technological advances, their long-distance relationships with family and friends wouldn't be possible. For example; I go on oovoo once a week to video chat with @CAPS3 cousin whom I only see on holidays. Teen @CAPS4, @PERSON2 says: \"Technology such as computers and cell phones are great for teens, but it should be monitored and not used excessively.\" Computers are great for keeping in touch with family and friends at a distance! Next, computers allow easy access to the news and online textbooks. @CAPS5 more people took advantage of this, we could sace millions of trees and have a healthier environment. Environmentalist, @PERSON3 says: \"@CAPS5 more schools switched to online textbooks they would end up saving thousands of dollars that can be put elsewhere.\" I agree, @CAPS3 friend @PERSON1 says. \"@CAPS5 we didnt have to take home so many textbooks everyday, I might not have scoliousis!\" @CAPS7, computers allow quick access to the news, so we can find out about accidents right away instead of waiting for the newspaper to come. @CAPS7, computers help children develop hand-eye coordination, which is a very important skill. Computer activities keep our brain excercising and @MONTH1 even help us hit more accurately next baseball season! Three out of five kids at @ORGANIZATION2 say that @CAPS5 they didn't have a computer growing up, they wouldn't be as good at their sport. Computers are an extremely useful recource for many things that we need to take advantages of!"

sentences = [d3,d4,d5,d6]
focus_sentence = "Dear Local Newspaper, I believe that computers are an extremely useful tool in society. It helps people learn new things about different cultures. Also, it lets you communicate with friends and family through the internet, for example, using facebook or @CAPS1. Finally, it provides an accurate research tool for school projects, or interviews. First, learning about different cultures helps the world stay together. For example, here, we learn @CAPS2 and @CAPS3. Each class teaches us to respect more and more of this culture. However, some people don't have the chance to get this land of education, so they turn to the internet. If the computer didn't exist, we might not know about the lifestyle @NUM1 mi away from us. We wouldn't know if their lifestyles are extremely difficult or luxurious. Also, we wouldn't know if we could help them or not. For example, the earthquake in @LOCATION1 which. It's one step closer to world peace no more war or conflicts. Secondly, the computer helps you communicate to friends and family for in the world. I remember one time I was mailing my family friends who was in @LOCATION2, risking his life. I knew he couldn't come back to town, so I started to email him, and video chat with him. Whenever I saw his face, I knew that everything was okay. I don't know how I would have without the internet. Other ways lived you could as. Also, just communicating with friends! internet sites, like extremely useful. Finally, you use the computer for educational use. For example, research projects, study tools and essays. Whenever that a research is the internet. This extremely reliable and accurate. However that some of the websites are fake, which is easy to great research to use for school projects. Also, I know many teachers in my school have a blog or page where they put their @CAPS4 on, study links, and handouts, just in case we lose them. Whenever there is a test coming up, my @CAPS2 teacher, @CAPS5 would have links on her go to help use study. Also, is another website that helps us study for vocab. It also has many games that and learn our vocab words. As you can see, the computer helps us in our daily use and makes a positive impact on our society. From educational purposes, to learning cultures and socializing with friends it helps us get through life. As very successful newspaper and people, I assume you will understand how much the computer has made a positive effect in society."

#print sentence_similarity("Smit is going home. His house is in Gandhinagar.","Smit is going to his house in Gandhinagar.")
#print sentence_similarity("Lionel Messi is the greatest football player ever.","Lionel Messi is from gandhinagar same as Smit.")
#print sentence_similarity("Smit is going to his house in Gandhinagar.","Lionel Messi is from gandhinagar same as Smit.")
#print sentence_similarity("Smit is going home. His house is in Gandhinagar.","Lionel Messi is the greatest football player ever.")

for sentence in sentences:
    print "Similarity = %s" % (sentence_similarity(focus_sentence, sentence))
    print
